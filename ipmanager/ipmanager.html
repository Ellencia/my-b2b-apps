<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>고객 IP 관리자</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
            <h1>고객 IP 관리자</h1>
            <div class="header-actions">
                <button id="menu-toggle-btn" class="header-btn">☰</button>
                <div id="dropdown-menu" class="dropdown-menu">
                    <a href="../layout/layout.html" class="dropdown-item">좌석 배치도 관리</a>
                    <button id="manage-presets-btn-menu" class="dropdown-item">프린터프리셋 관리</button>
                    <button id="manage-department-presets-btn-menu" class="dropdown-item">부서 프리셋 관리</button>
                    <a href="../reporter/reporter.html" class="dropdown-item">csv파일 생성</a>
                    <a href="../select_profile.html" id="change-profile-link" class="dropdown-item">프로필 변경</a>
                </div>
            </div>
    </header>

    <main>
        <div id="customer-list-container" class="page">
            <h2>고객 목록 <span id="customer-count"></span></h2>
            <div class="filter-container">
                <input type="text" id="search-input" placeholder="고객 이름 검색...">
                <select id="department-filter"></select>
            </div>
            <ul id="customer-list"></ul>
        </div>

        <div id="customer-form-container" class="page">
            <form id="customer-form">
                <h2 id="form-title">새 고객 추가</h2>
                <input type="hidden" id="customer-id">
                
                <h3>기본 정보</h3>
                <div class="form-group">
                    <label for="customer-name">고객 이름*</label>
                    <input type="text" id="customer-name" required>
                </div>
                <div class="form-group">
                    <label for="pc-id">PC ID</label>
                    <input type="text" id="pc-id">
                </div>
                <div class="form-group">
                    <label for="customer-department">소속(부서)</label>
                    <input type="text" id="customer-department" list="department-presets-list">
                    <datalist id="department-presets-list"></datalist>
                </div>

                <h3>네트워크 정보</h3>
                <div class="form-group">
                    <label for="ip-address">IP 주소*</label>
                    <input type="text" id="ip-address" required inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="subnet-mask">서브넷 마스크</label>
                    <input type="text" id="subnet-mask" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="gateway">게이트웨이</label>
                    <input type="text" id="gateway" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="dns1">기본 DNS</label>
                    <input type="text" id="dns1" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="dns2">보조 DNS</label>
                    <input type="text" id="dns2" inputmode="numeric">
                </div>

                <h3>상태</h3>
                <div class="form-group form-group-inline">
                    <input type="checkbox" id="is-completed">
                    <label for="is-completed">완료</label>
                    <input type="checkbox" id="is-pending-update" style="margin-left: 20px;">
                    <label for="is-pending-update">보류</label>
                    <input type="checkbox" id="is-error-state" style="margin-left: 20px;">
                    <label for="is-error-state">불가</label>
                </div>

                <div class="form-group-inline" style="margin-bottom: 1rem;">
                    <label style="font-weight: bold;">백업 및 원복:</label>
                    <input type="checkbox" id="has-backup" style="margin-left: 10px;">
                    <label for="has-backup">백업 있음</label>
                    <span id="restore-status-container" style="display: none; margin-left: 20px;">
                        <input type="checkbox" id="is-restored">
                        <label for="is-restored">원복 완료</label>
                    </span>
                </div>

                <h3>비고</h3>
                <div class="form-group">
                    <label for="backup-notes">비고</label>
                    <textarea id="backup-notes" rows="5"></textarea>
                </div>

                <h3>프린터 정보</h3>
                <div id="printer-form-list">
                    <!-- 프린터 입력 폼이 여기에 동적으로 추가됩니다. -->
                </div>
                <div class="form-actions-split">
                    <button type="button" id="add-printer-from-preset-btn" class="btn-secondary">프리셋에서 추가</button>
                    <button type="button" id="add-printer-btn-form" class="btn-secondary">직접 추가</button>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">저장</button>
                    <button type="button" id="cancel-btn" class="btn-secondary">취소</button>
                </div>
            </form>
        </div>

        <div id="customer-details-container">
            <!-- 고객 상세 정보가 여기에 표시됩니다. -->
        </div>

        <!-- 프리셋 관리 화면 -->
        <div id="preset-manager-container" class="page">
            <h2>프리셋 관리</h2>
            <form id="preset-form">
                <h3>새 프리셋 추가</h3>
                <div class="form-group">
                    <label for="preset-name">프리셋 이름*</label>
                    <input type="text" id="preset-name" placeholder="예: 2층 컬러 레이저젯" required>
                </div>
                <div class="form-group">
                    <label for="preset-model">모델명</label>
                    <input type="text" id="preset-model">
                </div>
                <div class="form-group">
                    <label for="preset-ip">IP 주소</label>
                    <input type="text" id="preset-ip" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="preset-port">포트</label>
                    <input type="text" id="preset-port" inputmode="numeric">
                </div>
                <input type="hidden" id="preset-id">
                <div class="form-actions">
                    <button type="submit" class="btn-primary">프리셋 저장</button>
                    <button type="button" id="cancel-preset-edit-btn" class="btn-secondary" style="display: none;">취소</button>
                </div>
            </form>
            <hr>
            <h3>저장된 프리셋 목록</h3>
            <ul id="preset-list">
                <!-- 저장된 프리셋이 여기에 동적으로 추가됩니다. -->
            </ul>
            <div class="form-actions">
                <button type="button" id="back-to-list-from-presets-btn" class="btn-secondary">고객 목록으로</button>
            </div>
        </div>

        <!-- 부서 프리셋 관리 화면 -->
        <div id="department-preset-manager-container" class="page">
            <h2>부서 프리셋 관리</h2>
            <form id="department-preset-form">
                <h3>새 부서 프리셋 추가</h3>
                <div class="form-group">
                    <label for="department-preset-name">부서 이름*</label>
                    <input type="text" id="department-preset-name" placeholder="예: 경영지원팀" required>
                </div>
                <div class="form-group">
                    <label for="department-preset-gateway">게이트웨이</label>
                    <input type="text" id="department-preset-gateway" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="department-preset-dns1">기본 DNS</label>
                    <input type="text" id="department-preset-dns1" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="department-preset-dns2">보조 DNS</label>
                    <input type="text" id="department-preset-dns2" inputmode="numeric">
                </div>
                <input type="hidden" id="department-preset-id">
                <div class="form-actions">
                    <button type="submit" class="btn-primary">부서 프리셋 저장</button>
                    <button type="button" id="cancel-department-preset-edit-btn" class="btn-secondary" style="display: none;">취소</button>
                </div>
            </form>
            <hr>
            <h3>저장된 부서 프리셋 목록</h3>
            <ul id="department-preset-list">
                <!-- 저장된 부서 프리셋이 여기에 동적으로 추가됩니다. -->
            </ul>
            <div class="form-actions">
                <button type="button" id="back-to-list-from-department-presets-btn" class="btn-secondary">고객 목록으로</button>
            </div>
        </div>

    </main>

    <button id="add-customer-fab" class="fab">+</button>

    <script src="script.js"></script>
</body>
</html>
